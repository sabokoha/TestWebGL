<H5>ボタンについて</H5>
前回はテキスト内ジャンプをボタンでやりましたが、今回はボタンで幾つか他の機能をやってみようと思います<BR>
テキストジャンプ、ダイレクトなテキストジャンプをやりましたが、次は数値演算をします<BR>
jbt,1,2,false,1,2<BR>
bt,10,100,640,30,戻る,J,1,2<BR>
bt,10,200,630,30,進む,J,2,3<BR>
まずは、ファイルを用意します。<BR>
calkp.txtというのを用意しました。<BR>
そして、三つ目のファイルには<BR>
bg,2<BR>
移動したよ。<BR>
ed,1<BR>
テキストの基本どうりに追加だけやります。<BR>
前回の文章の最後に<BR>
jf,calkp<BR>
を追加します。<BR>
calkp.tstの文章の後に、下記の一連の文章を付け加えます。<BR>
それでは数値演算<BR>
最初に数値を設定していたと思うのですが、そちらの数値に、指定した数の加減乗除算を設定してみます<BR>
先ほどの文章の後に、下記の一連の文章を付け加えます。<BR>
jbt,1,4,true,1,2,3,4<BR>
bt,10,140,620,30,SN1+100,M,1,1,＋,100<BR>
bt,10,180,620,30,SN1-50,M,2,1,-,50<BR>
bt,10,220,620,30,SN1×4,M,3,1,×,4<BR>
bt,10,260,620,30,SN1÷2,M,4,1,÷,2<BR>
最初に設定した数値を操作します。<BR>
こちらで指定した計算を行い、出した結果を表示します。<BR>
spt,文字は/sn#1/です<BR>
保存されている数値はXです。<BR>
結果の表示が出来たら、その結果に応じてジャンプボタンを選んで飛びます。<BR>
jbt,1,2,false,5,6<BR>
bt,5,300,630,30,100以下です,C,5,1,>,100,J,1<BR>
bt,5,100,630,30,100以上です,C,6,1,<,100,J,1<BR>
ボタン設定です。<BR>
最後に終了までの文章を追加します。<BR>
比較して正解を選びました。<BR>
bg,1<BR>
絵を変更します。<BR>
spt,文字は/sn#1/です<BR>
保存されている数値はXです。<BR>
数値の設定が終わりました。<BR>
ed,1<BR>
終わり<BR>
一通り確認しで動くのがわかったら細かい説明に入ります。<BR>
まずは、数値演算用のボタンの方。<BR>
bt,10,140,620,30,SN1+100の部分までは今までと同様で、認識名,X,Y,横幅,縦幅,表示名となります。<BR>
そこから先が変更点。Mが計算用の名前、1～4がボタンの返り値、その次の1が加算する対象。<BR>
+,-,×,÷が算術用の記号。その後が追加する数値になります<BR>
この辺は前に一度やった演算の時と基本的には一緒ですね。<BR>
次に比較移動用の方に行きます。<BR>
bt,5,300,630,30,100以下ですの部分までは先ほどと一緒。<BR>
Cが比較用に使われる名前、1が比較対象、>と<は大きいか小さいかの記号です。<BR>
100がその比較対象と比べる数値、比較した条件が合っていればJ,1で指定したジャンプポイントに飛びます。<BR>
ジャンプポイントで飛ばない場合はそのまま次の文章に進んでいくのがポイントです。<BR>
この辺は、実際に動かしたり弄ったりして、確かめてみると色々わかるかなと思います。<BR>